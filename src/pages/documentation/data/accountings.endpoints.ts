// src/pages/api-docs/data/accountings.endpoints.ts
import { Endpoint } from '../types'

export const accountingsEndpoints: Endpoint[] = [
  {
    method: 'GET',
    path: '/api/accountings',
    description: 'Récupérer la liste de toutes les comptabilités',
    responseExample: [
      {
        id: 1,
        code: 'MASTER',
        name: 'Comptabilité principale',
        type: 'master',
        parent_code: null,
        currency: 'XAF',
        opening_balance: 0,
        created_at: 1704067200000,
        updated_at: 1704067200000,
      },
      {
        id: 2,
        code: 'COMPTA1',
        name: 'Comptabilité secondaire',
        type: 'standalone',
        parent_code: null,
        currency: 'XAF',
        opening_balance: 50000,
        created_at: 1704153600000,
        updated_at: 1704153600000,
      },
    ],
  },
  {
    method: 'GET',
    path: '/api/accountings/:code',
    description: 'Récupérer une comptabilité par son code',
    params: [{ name: 'code', type: 'string', required: true, description: 'Code unique de la comptabilité' }],
    responseExample: {
      id: 1,
      code: 'MASTER',
      name: 'Comptabilité principale',
      type: 'master',
      parent_code: null,
      currency: 'XAF',
      opening_balance: 0,
      created_at: 1704067200000,
      updated_at: 1704067200000,
    },
  },
  {
    method: 'POST',
    path: '/api/accountings',
    description: 'Créer une nouvelle comptabilité',
    body: [
      { name: 'code', type: 'string', required: true, description: 'Code unique (ex: "COMPTA1")' },
      { name: 'name', type: 'string', required: true, description: 'Nom de la comptabilité' },
      { name: 'type', type: 'string', required: true, description: 'Type: "linked", "standalone" ou "master"' },
      { name: 'parent_code', type: 'string', required: false, description: 'Code du parent (pour type "linked")' },
      { name: 'currency', type: 'string', required: false, description: 'Devise (défaut: "XAF")' },
      { name: 'opening_balance', type: 'number', required: false, description: "Solde d'ouverture (défaut: 0)" },
    ],
    requestExample: {
      code: 'COMPTA1',
      name: 'Ma comptabilité',
      type: 'standalone',
      currency: 'XAF',
      opening_balance: 100000,
    },
    responseExample: {
      id: 2,
      code: 'COMPTA1',
      name: 'Ma comptabilité',
      type: 'standalone',
      parent_code: null,
      currency: 'XAF',
      opening_balance: 100000,
      created_at: 1704153600000,
      updated_at: 1704153600000,
    },
  },
  {
    method: 'PUT',
    path: '/api/accountings/:code',
    description: 'Mettre à jour une comptabilité',
    params: [{ name: 'code', type: 'string', required: true, description: 'Code de la comptabilité' }],
    body: [
      { name: 'name', type: 'string', required: false, description: 'Nom' },
      { name: 'type', type: 'string', required: false, description: 'Type' },
      { name: 'parent_code', type: 'string', required: false, description: 'Code parent' },
      { name: 'currency', type: 'string', required: false, description: 'Devise' },
      { name: 'opening_balance', type: 'number', required: false, description: "Solde d'ouverture" },
    ],
    requestExample: { name: 'Comptabilité mise à jour', opening_balance: 150000 },
    responseExample: {
      id: 2,
      code: 'COMPTA1',
      name: 'Comptabilité mise à jour',
      type: 'standalone',
      parent_code: null,
      currency: 'XAF',
      opening_balance: 150000,
      created_at: 1704153600000,
      updated_at: 1704240000000,
    },
  },
  {
    method: 'DELETE',
    path: '/api/accountings/:code',
    description: 'Supprimer une comptabilité (sauf MASTER)',
    params: [{ name: 'code', type: 'string', required: true, description: 'Code de la comptabilité' }],
    responseExample: null,
  },
]
